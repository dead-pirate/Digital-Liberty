{%extends 'base.html' %}

 {% block css %}
 <style type="text/css">

 h1 {

     font-family : 'Teko', sans-serif;
     font-weight : 500;
     margin-left : 48px;
 }
h5 {


    font-family: 'Lemonada', cursive;
}

.card-text {

    font-family: 'Cutive Mono', monospace;

}

.date {


    font-size: 0.85em;
}
.tag {

    font-family: 'Gaegu', cursive;
}



</style>

 {% endblock %}
{% load imagekit %}
{% load blog_extra %}
  {% block title %}
  Category : {{ tag|title }}
  {% endblock %}
 

  {% block content%}
  <br><br>


  <div class='container'>

  <!--Section: Content-->
  <section class="dark-grey-text">

    <!-- Section heading -->
    <h2 class="text-center font-weight-bold mb-4 pb-2">{{ tag|title }}</h2>
    <!-- Section description -->
    <p class="text-center mx-auto w-responsive mb-5">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugit, error amet numquam iure provident voluptate esse quasi, veritatis totam voluptas nostrum quisquam eum porro a pariatur veniam.</p>

  {% if posts %}
  <!--                                                    IF POST EXISTS                -->
<!-- for loop starts -->
    {% for item in posts %} 
<!-- alternate count -->
                {% if count == 1 %}
                                          <!-- Grid row -->
                                          <div class="row align-items-center">

                                            <!-- Grid column -->
                                            <div class="col-lg-5">

                                              <!-- Featured image -->
                                              <div class="view overlay rounded z-depth-2 mb-lg-0 mb-4">
                                                {% thumbnail '781x521' item.get_image -- class="img-fluid" %}
                                                <a>
                                                  <div class="mask rgba-white-slight"></div>
                                                </a>
                                              </div>

                                            </div>
                                            <!-- Grid column -->

                                            <!-- Grid column -->
                                            <div class="col-lg-7">

                                              <!-- Category -->
                                              <a href="{% url 'blog:tag-view' item.category|slugify %}" class="green-text">
                                                <h6 class="font-weight-bold mb-3"><i class="fas fa-tag fa-sm"></i> {{item.category|title }}</h6>
                                              </a>
                                              <!-- Post title -->
                                              <h4 class="font-weight-bold mb-3"><strong>{{ item.title|title }}</strong></h4>
                                              <!-- Excerpt -->
                                              <p>{{ item.snippet|safe }}</p>
                                              <!-- Post data -->
                                              <p><a><strong>{{ item.author.first_name|title }}</strong></a><br><small><i class="far fa-clock fa-sm"></i> {{ item.date }}</p></small>
                                              <!-- Read more button -->
                                              <a class="btn btn-success btn-md btn-rounded mx-0" href="{{ item.get_absolute_url }}">Read more</a>

                                            </div>
                                            <!-- Grid column -->

                                          </div>
                                          <!-- Grid row -->

                                          <hr class="my-5">
    
    <!-- count is -ve  -->
      {% else %}

                                                  <!-- Grid row -->
                                          <div class="row align-items-center">

                                            <!-- Grid column -->

                                            <div class="col-lg-7">

                                              <!-- Category -->
                                              <a href="{% url 'blog:tag-view' item.category|slugify %}" class="green-text">
                                                <h6 class="font-weight-bold mb-3"><i class="fas fa-tag fa-sm"></i> {{item.category|title }}</h6>
                                              </a>
                                              <!-- Post title -->
                                              <h4 class="font-weight-bold mb-3"><strong>{{ item.title|title }}</strong></h4>
                                              <!-- Excerpt -->
                                              <p>{{ item.snippet|safe }}</p>
                                              <!-- Post data -->
                                              <p><a><strong>{{ item.author.first_name|title }}</strong></a><br><small><i class="far fa-clock fa-sm"></i> {{ item.date }}</p></small>
                                              <!-- Read more button -->
                                              <a class="btn btn-success btn-md btn-rounded mx-0" href="{{ item.get_absolute_url }}">Read more</a>

                                            </div>
                                            <!-- Grid column -->

                                            <!-- Grid column -->
                                            <div class="col-lg-5">
                                              <!-- Featured image -->
                                              <div class="view overlay rounded z-depth-2 mb-lg-0 mb-4">
                                                {% thumbnail '781x521' item.get_image -- class="img-fluid" %}
                                                <a>
                                                  <div class="mask rgba-white-slight"></div>
                                                </a>
                                              </div>

                                            </div>
                                            <!-- Grid column -->

                                          </div>
                                          <!-- Grid row -->

                                          <hr class="my-5">
    
    {% endif %}


     {% change_state count as count %}

{% endfor %}
<!-- FOR LOOP ENDS -->

          <!-- NO POSTS EXISTS -->

 {% else %}

            <div class="alert alert-danger" role="alert">
              <h4 class="alert-heading">ERROR!</h4>
              <p>No posts on category {{ tag|title }} Exists </p>
              <hr>
              <p class="mb-0">Contact us if you think something is wrong</p>
            </div>

 {% endif %}
  </section>
  <!--Section: Content-->


</div>

  {% endblock %}